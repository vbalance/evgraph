# EVGraph - EV Betting Analytics Dashboard

–í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö —Å—Ç–∞–≤–æ–∫ –∑ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–º –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è–º (Expected Value). –í–∫–ª—é—á–∞—î —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ EV –≤ —á–∞—Å—ñ, –¥–µ—Ç–∞–ª—ñ–∑–æ–≤–∞–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å—Ç–∞–≤–∫–∏ —Ç–∞ —Å–µ—Å—ñ—ó.

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –ê–Ω–∞–ª—ñ–∑ —Å–µ—Å—ñ–π
- –ü–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö bot sessions –∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞–≤–æ–∫ —Ç–∞ —É—Å–ø—ñ—à–Ω–æ —Ä–æ–∑–º—ñ—â–µ–Ω–∏—Ö
- –ß–∞—Å –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–∂–Ω–æ—ó —Å–µ—Å—ñ—ó

### –î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–∞–≤–æ–∫
- –¢–∞–±–ª–∏—Ü—è –≤—Å—ñ—Ö —Å—Ç–∞–≤–æ–∫ –ø–æ —Å–µ—Å—ñ—ó –∑ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ–¥—ñ—é (—Å–ø–æ—Ä—Ç, –ª—ñ–≥–∞, –∫–æ–º–∞–Ω–¥–∏)
- –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∏ (odds, fair odds), EV%, —Å—Ç–∞—Ç—É—Å, —Ä–æ–∑–º—ñ—Ä —Å—Ç–∞–≤–∫–∏

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ EV
- **Zoom & Pan**: –ö–æ–ª–µ—Å–æ –º–∏—à—ñ –¥–ª—è –∑—É–º—É, –ø–µ—Ä–µ—Ç—è–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
- **–ö–æ–ª—å–æ—Ä–æ–≤—ñ –º–∞—Ä–∫–µ—Ä–∏ —Ç–æ—á–æ–∫**:
  - üü® –ñ–æ–≤—Ç–∞ –≤–µ–ª–∏–∫–∞ —Ç–æ—á–∫–∞ - –ø–æ—è–≤–∞ EV —Å—Ç–∞–≤–∫–∏
  - üü© –ó–µ–ª–µ–Ω–∞ –≤–µ–ª–∏–∫–∞ —Ç–æ—á–∫–∞ - —Ä–æ–∑–º—ñ—â–µ–Ω–∞ —Å—Ç–∞–≤–∫–∞
  - üî¥ –ß–µ—Ä–≤–æ–Ω–∞ —Ç–æ—á–∫–∞ - suspended (Pinnacle –∞–±–æ –±—É–∫–º–µ–∫–µ—Ä)
  - üîµ –°–∏–Ω—è —Ç–æ—á–∫–∞ - –Ω–æ—Ä–º–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω
- **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó**:
  - üü¶ –°–∏–Ω—è - –ø–æ—á–∞—Ç–æ–∫ —Å–µ—Å—ñ—ó
  - üü• –ß–µ—Ä–≤–æ–Ω–∞ - –∫—ñ–Ω–µ—Ü—å —Å–µ—Å—ñ—ó
- **–ß–µ—Ä–≤–æ–Ω—ñ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó**: –∑'—î–¥–Ω—É—é—Ç—å —Ç–æ—á–∫–∏ –∑ EV ‚â• 5%, –¥–µ koef –Ω–µ –ø–∞–¥–∞—î –ø—Ä–æ—Ç—è–≥–æ–º 4 —Å–µ–∫—É–Ω–¥
- **–î–µ—Ç–∞–ª—å–Ω–∏–π tooltip**: –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –ø–æ–∫–∞–∑—É—î –≤—Å—ñ –¥–∞–Ω—ñ —Ç–æ—á–∫–∏ (EV, odds, fair odds, pinnacle odds, —Å—Ç–∞—Ç—É—Å–∏)
- **Fullscreen —Ä–µ–∂–∏–º** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Backend
- **FastAPI** - —à–≤–∏–¥–∫–∏–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π API framework
- **SQLModel** - ORM –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ PostgreSQL
- **Uvicorn** - ASGI server
- **Python 3.12** ‚Äì –∑ UV package manager

### Frontend
- **React 19** - UI –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è
- **Vite** - build tool
- **React Router** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è
- **Recharts** - —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏
- **Tailwind CSS 4** - —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è

### Infrastructure
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- **Nginx** ‚Äì reverse proxy –¥–ª—è production
- **PostgreSQL** - –≤—ñ–¥–¥–∞–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏
- Docker —Ç–∞ Docker Compose
- Git

### 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
```bash
git clone <repository-url>
cd evgraph
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ .env
```bash
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ .env –∑ –≤–∞—à–∏–º–∏ –¥–∞–Ω–∏–º–∏ –±–∞–∑–∏
nano .env
```

–ü—Ä–∏–∫–ª–∞–¥ `.env`:
```bash
# PostgreSQL Remote Database
POSTGRES_DB=your_database
POSTGRES_USER=your_user
POSTGRES_PASSWORD=your_password
POSTGRES_HOST=your_host
POSTGRES_PORT=5432

# Backend Configuration
BACKEND_PORT=8174
BACKEND_HOST=0.0.0.0

# Frontend Configuration
VITE_API_BASE_URL=/api
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤ Docker

#### Production
```bash
docker compose up -d
```

#### Development (–∑ hot-reload)
```bash
docker compose -f docker-compose.dev.yml up -d
```

### 4. –í—ñ–¥–∫—Ä–∏—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

**Production:**
- Frontend: http://localhost:5174
- Backend API: http://localhost:8174
- API Docs: http://localhost:8174/docs

**Development:**
- Frontend (Vite): http://localhost:5174
- Backend API: http://localhost:8174

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
evgraph/
‚îú‚îÄ‚îÄ api/                      # Backend (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI app
‚îÇ   ‚îú‚îÄ‚îÄ routes.py            # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # SQLModel models
‚îÇ   ‚îú‚îÄ‚îÄ crud.py              # Database operations
‚îÇ   ‚îú‚îÄ‚îÄ db.py                # Database connection
‚îÇ   ‚îî‚îÄ‚îÄ config.py            # Configuration
‚îú‚îÄ‚îÄ frontend/                 # Frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts           # API client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts         # TypeScript —Ç–∏–ø–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx          # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îú‚îÄ‚îÄ Dockerfile_backend        # Backend Docker image
‚îú‚îÄ‚îÄ Dockerfile_frontend       # Frontend Docker image
‚îú‚îÄ‚îÄ docker-compose.yml        # Production compose
‚îú‚îÄ‚îÄ docker-compose.dev.yml    # Development compose
‚îú‚îÄ‚îÄ .env                      # Environment variables
‚îú‚îÄ‚îÄ .dockerignore
‚îú‚îÄ‚îÄ pyproject.toml            # Python dependencies (UV)
‚îú‚îÄ‚îÄ uv.lock
‚îî‚îÄ‚îÄ README.md
```

## üõ†Ô∏è Docker –∫–æ–º–∞–Ω–¥–∏

### –ó–∞–ø—É—Å–∫
```bash
# Production
docker compose up -d

# Development
docker compose -f docker-compose.dev.yml up -d

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏
docker compose logs -f

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
docker compose logs -f backend
docker compose logs -f frontend
```

### –ó—É–ø–∏–Ω–∫–∞
```bash
docker compose down

# –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Ç–∞ volumes
docker compose down -v
```

### –ü–µ—Ä–µ–±—É–¥–æ–≤–∞
```bash
# –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏ –≤—Å—ñ –æ–±—Ä–∞–∑–∏
docker compose build

# –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
docker compose build backend

# –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏ –±–µ–∑ –∫–µ—à—É
docker compose build --no-cache
```

### –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥
```bash
# Backend shell
docker compose exec backend bash

# Frontend shell
docker compose exec frontend sh

# –í–∏–∫–æ–Ω–∞—Ç–∏ Python –∫–æ–º–∞–Ω–¥—É
docker compose exec backend python -c "print('Hello')"
```

## üåê –î–æ—Å—Ç—É–ø –∑ —ñ–Ω—à–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∑ –±—É–¥—å-—è–∫–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é –≤ –º–µ—Ä–µ–∂—ñ:

```
http://<server-ip>:5174
```

–¥–µ `<server-ip>` - IP –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `192.168.1.100`)

API –∑–∞–ø–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–æ–∫—Å—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ nginx –Ω–∞ backend.

## üíª –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ (–±–µ–∑ Docker)

### Backend
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ UV package manager
curl -LsSf https://astral.sh/uv/install.sh | sh

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
uv sync

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ backend
uv run uvicorn api.main:app --reload --port 8174
```

### Frontend
```bash
cd frontend

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

# –°—Ç–≤–æ—Ä–∏—Ç–∏ .env.local –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
echo "VITE_API_BASE_URL=http://localhost:8174/api" > .env.local

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ dev server
npm run dev
```

–í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:5174

## üìä API Endpoints

### Sessions
- `GET /api/sessions` - –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Å–µ—Å—ñ–π –∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- `GET /api/sessions/{session_id}` - –î–µ—Ç–∞–ª—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Å–µ—Å—ñ—ó
- `GET /api/sessions/{session_id}/bets` - –°—Ç–∞–≤–∫–∏ –ø–æ —Å–µ—Å—ñ—ó

### Bets
- `GET /api/bets?bet_id={bet_id}` - –î–µ—Ç–∞–ª—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Å—Ç–∞–≤–∫–∏
- `GET /api/bets/ev?bet_id={bet_id}` - EV —ñ—Å—Ç–æ—Ä—ñ—è –¥–ª—è —Å—Ç–∞–≤–∫–∏

### Health
- `GET /health` - Health check endpoint

–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: http://localhost:8174/docs

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∞ –ø–æ—Ä—Ç—ñ–≤

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:
```bash
BACKEND_PORT=9000
VITE_API_BASE_URL=/api
```

–ü–µ—Ä–µ–∑–±—É–¥—É–π—Ç–µ:
```bash
docker compose down
docker compose up --build -d
```

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—à–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–û–Ω–æ–≤—ñ—Ç—å `POSTGRES_*` –∑–º—ñ–Ω–Ω—ñ –≤ `.env` —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏.

## üêõ Troubleshooting

### Backend –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –ë–î
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ credentials –≤ `.env` —Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:
```bash
docker compose logs backend
```

### Frontend –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ backend
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `VITE_API_BASE_URL=/api` –≤ `.env` —Ç–∞ –ø–µ—Ä–µ–±—É–¥—É–π—Ç–µ frontend:
```bash
docker compose build frontend
docker compose up -d frontend
```

### –ü–æ—Ä—Ç –≤–∂–µ –∑–∞–π–Ω—è—Ç–∏–π
–ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç–∏ –≤ `.env` –∞–±–æ –∑—É–ø–∏–Ω—ñ—Ç—å –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—á–∏–π –ø—Ä–æ—Ü–µ—Å:
```bash
# –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø–æ—Ä—Ç—É 8174
lsof -ti:8174

# –í–±–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å
lsof -ti:8174 | xargs kill -9
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## üë§ –ê–≤—Ç–æ—Ä

Arsen Makovei
